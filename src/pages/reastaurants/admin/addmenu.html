<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Add Menu Item - Opa</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
</head>
<body class="bg-gray-50">

  <!-- Navigation -->
  <header class="bg-green-600 border-b border-green-700">
    <nav class="max-w-7xl mx-auto px-4">
      <div class="flex h-14 items-center justify-between">
        <a href="/" class="text-lg font-bold text-white">Opa</a>
        <div class="flex items-center gap-4">
          <a href="/business/restaurants" class="text-sm text-white hover:text-green-200">Menu</a>
          <a href="/dashboard" class="text-sm text-white hover:text-green-200">Dashboard</a>
        </div>
      </div>
    </nav>
  </header>

  <!-- Add Menu Item Form -->
  <main class="max-w-4xl mx-auto px-4 py-8">
    <div 
      x-data="{ 
        menuItem: {
          name: '',
          description: '',
          ingredients: '',
          price: '',
          calories: '',
          grams: '',
          minOrders: '',
          maxOrders: '',
          lunch: false,
          dinner: false,
          breakfast: false,
          takeout: false
        },
        loading: false,
        saved: false
      }"
      class="bg-white rounded-2xl shadow-lg p-8"
    >
      <!-- Header -->
      <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900 mb-2">Add Menu Item</h1>
        <p class="text-gray-600">Create a new item for your restaurant menu</p>
      </div>

      <!-- Success Message -->
      <div 
        x-show="saved" 
        x-transition
        class="mb-6 bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg"
      >
        ✓ Menu item has been added successfully
      </div>

      <!-- Form -->
      <form @submit.prevent="handleSubmit" class="space-y-6">
        
        <!-- Menu Categories Section -->
        <div>
          <h2 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">Available For</h2>
          
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <!-- Breakfast -->
            <label class="flex items-center gap-2 cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-green-300 transition"
                   :class="menuItem.breakfast ? 'border-green-500 bg-green-50' : ''">
              <input 
                type="checkbox" 
                x-model="menuItem.breakfast"
                class="w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"
              />
              <div class="flex items-center gap-2">
                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path>
                </svg>
                <span class="text-sm font-medium text-gray-700">Breakfast</span>
              </div>
            </label>

            <!-- Lunch -->
            <label class="flex items-center gap-2 cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-green-300 transition"
                   :class="menuItem.lunch ? 'border-green-500 bg-green-50' : ''">
              <input 
                type="checkbox" 
                x-model="menuItem.lunch"
                class="w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"
              />
              <div class="flex items-center gap-2">
                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                </svg>
                <span class="text-sm font-medium text-gray-700">Lunch</span>
              </div>
            </label>

            <!-- Dinner -->
            <label class="flex items-center gap-2 cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-green-300 transition"
                   :class="menuItem.dinner ? 'border-green-500 bg-green-50' : ''">
              <input 
                type="checkbox" 
                x-model="menuItem.dinner"
                class="w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"
              />
              <div class="flex items-center gap-2">
                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path>
                </svg>
                <span class="text-sm font-medium text-gray-700">Dinner</span>
              </div>
            </label>

            <!-- Takeout -->
            <label class="flex items-center gap-2 cursor-pointer p-4 border border-gray-200 rounded-lg hover:border-green-300 transition"
                   :class="menuItem.takeout ? 'border-green-500 bg-green-50' : ''">
              <input 
                type="checkbox" 
                x-model="menuItem.takeout"
                class="w-5 h-5 text-green-600 border-gray-300 rounded focus:ring-green-500"
              />
              <div class="flex items-center gap-2">
                <svg class="w-5 h-5 text-gray-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                </svg>
                <span class="text-sm font-medium text-gray-700">Takeout</span>
              </div>
            </label>
          </div>
        </div>

        <!-- Basic Information Section -->
        <div>
          <h2 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">Basic Information</h2>
          
          <div class="space-y-5">
            <!-- Name -->
            <div>
              <label for="name" class="block text-sm font-medium text-gray-700 mb-2">
                Item Name *
              </label>
              <input
                type="text"
                id="name"
                x-model="menuItem.name"
                required
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"
                placeholder="Grilled Salmon"
              />
            </div>

            <!-- Description -->
            <div>
              <label for="description" class="block text-sm font-medium text-gray-700 mb-2">
                Description *
              </label>
              <textarea
                id="description"
                x-model="menuItem.description"
                required
                rows="4"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition resize-none"
                placeholder="Fresh Atlantic salmon grilled to perfection with lemon butter sauce..."
              ></textarea>
            </div>

            <!-- Ingredients -->
            <div>
              <label for="ingredients" class="block text-sm font-medium text-gray-700 mb-2">
                Ingredients *
              </label>
              <textarea
                id="ingredients"
                x-model="menuItem.ingredients"
                required
                rows="3"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition resize-none"
                placeholder="Salmon, butter, lemon, herbs, olive oil..."
              ></textarea>
              <p class="text-xs text-gray-500 mt-1">Separate ingredients with commas</p>
            </div>
          </div>
        </div>

        <!-- Pricing & Nutrition Section -->
        <div>
          <h2 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">Pricing & Nutrition</h2>
          
          <div class="grid grid-cols-1 md:grid-cols-3 gap-5">
            <!-- Price -->
            <div>
              <label for="price" class="block text-sm font-medium text-gray-700 mb-2">
                Price (EUR) *
              </label>
              <div class="relative">
                <span class="absolute left-4 top-3 text-gray-500">€</span>
                <input
                  type="number"
                  id="price"
                  x-model="menuItem.price"
                  required
                  step="0.01"
                  min="0"
                  class="w-full pl-12 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"
                  placeholder="24.99"
                />
              </div>
            </div>

            <!-- Calories -->
            <div>
              <label for="calories" class="block text-sm font-medium text-gray-700 mb-2">
                Calories
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="calories"
                  x-model="menuItem.calories"
                  min="0"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"
                  placeholder="450"
                />
                <span class="absolute right-4 top-3 text-gray-500 text-sm">kcal</span>
              </div>
            </div>

            <!-- Grams -->
            <div>
              <label for="grams" class="block text-sm font-medium text-gray-700 mb-2">
                Weight
              </label>
              <div class="relative">
                <input
                  type="number"
                  id="grams"
                  x-model="menuItem.grams"
                  min="0"
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"
                  placeholder="350"
                />
                <span class="absolute right-4 top-3 text-gray-500 text-sm">g</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Order Limits Section -->
        <div>
          <h2 class="text-lg font-semibold text-gray-900 mb-4 pb-2 border-b">Order Limits</h2>
          
          <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
            <!-- Min Orders -->
            <div>
              <label for="minOrders" class="block text-sm font-medium text-gray-700 mb-2">
                Minimum Orders
              </label>
              <input
                type="number"
                id="minOrders"
                x-model="menuItem.minOrders"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"
                placeholder="1"
              />
              <p class="text-xs text-gray-500 mt-1">Minimum number of orders required</p>
            </div>

            <!-- Max Orders -->
            <div>
              <label for="maxOrders" class="block text-sm font-medium text-gray-700 mb-2">
                Maximum Orders
              </label>
              <input
                type="number"
                id="maxOrders"
                x-model="menuItem.maxOrders"
                min="0"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-green-500 focus:border-transparent outline-none transition"
                placeholder="50"
              />
              <p class="text-xs text-gray-500 mt-1">Maximum orders available per day</p>
            </div>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="flex gap-3 pt-6 border-t">
          <button
            type="button"
            @click="window.location.href = '/business/restaurants'"
            class="px-6 py-3 border border-gray-300 text-gray-700 rounded-lg font-semibold hover:bg-gray-50 transition"
          >
            Cancel
          </button>
          <button
            type="submit"
            :disabled="loading"
            :class="loading ? 'opacity-50 cursor-not-allowed' : 'hover:bg-green-700'"
            class="flex-1 px-6 py-3 bg-green-600 text-white rounded-lg font-semibold transition"
            x-text="loading ? 'Saving...' : 'Save Menu Item'"
          >
          </button>
        </div>
      </form>
    </div>
  </main>

  <script>
    function handleSubmit() {
      this.loading = true;
      this.saved = false;
      
      // Validate at least one category is selected
      if (!this.menuItem.breakfast && !this.menuItem.lunch && !this.menuItem.dinner && !this.menuItem.takeout) {
        alert('Please select at least one menu category (Breakfast, Lunch, Dinner, or Takeout)');
        this.loading = false;
        return;
      }
      
      // Simulate API call
      setTimeout(() => {
        console.log('Menu item added:', this.menuItem);
        
        // Show success message
        this.saved = true;
        this.loading = false;
        
        // Redirect after success (or reset form)
        setTimeout(() => {
          // window.location.href = '/business/restaurants';
          this.saved = false;
        }, 2000);
      }, 1000);
    }
  </script>

</body>
</html>